@import "tailwindcss";

/* Enable class-based dark mode for Tailwind v4 */
@custom-variant dark (&:is(.dark *));

/* Base styles */
html, body {
  height: 100%;
}

body {
  min-height: 100vh;
  background-color: white;
  color: rgb(24 24 27); /* zinc-900 */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  transition: background-color 0.3s ease, color 0.3s ease;
}

h1 {
  font-size: 1.875rem;
  font-weight: 600;
  letter-spacing: -0.025em;
  color: rgb(24 24 27); /* zinc-900 */
}

h2 {
  font-size: 1.5rem;
  font-weight: 600;
  letter-spacing: -0.025em;
  color: rgb(24 24 27); /* zinc-900 */
}

h3 {
  font-size: 1.25rem;
  font-weight: 600;
  letter-spacing: -0.025em;
  color: rgb(24 24 27); /* zinc-900 */
}

p {
  color: rgb(82 82 91); /* zinc-600 */
}

/* ═══ Dark mode overrides ═══ */
.dark body {
  background-color: #0f172a; /* slate-900 */
  color: #e2e8f0; /* slate-200 */
}

.dark h1, .dark h2, .dark h3 {
  color: #f1f5f9; /* slate-100 */
}

.dark p {
  color: #94a3b8; /* slate-400 */
}

/* Custom component classes */
.container-page {
  margin-left: auto;
  margin-right: auto;
  width: 100%;
  max-width: 72rem;
  padding-left: 1rem;
  padding-right: 1rem;
}

@media (min-width: 640px) {
  .container-page {
    padding-left: 1.5rem;
    padding-right: 1.5rem;
  }
}

.card {
  border-radius: 1rem;
  border: 1px solid rgb(228 228 231); /* zinc-200 */
  background-color: white;
  box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
}

.dark .card {
  background-color: #1e293b; /* slate-800 */
  border-color: #334155; /* slate-700 */
  box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.2);
}

.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 0.75rem;
  padding: 0.5rem 1rem;
  font-size: 0.875rem;
  font-weight: 500;
  transition-property: all;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 150ms;
}

.btn-primary {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 0.75rem;
  padding: 0.5rem 1rem;
  font-size: 0.875rem;
  font-weight: 500;
  background-color: rgb(24 24 27); /* zinc-900 */
  color: white;
  transition-property: all;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 150ms;
}

.btn-primary:hover {
  background-color: rgb(39 39 42); /* zinc-800 */
}

.btn-primary:active {
  background-color: rgb(9 9 11); /* zinc-950 */
}

.btn-ghost {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 0.75rem;
  padding: 0.5rem 1rem;
  font-size: 0.875rem;
  font-weight: 500;
  background-color: transparent;
  color: rgb(63 63 70); /* zinc-700 */
  transition-property: all;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 150ms;
}

.btn-ghost:hover {
  background-color: rgb(244 244 245); /* zinc-100 */
}

.dark .btn-primary {
  background-color: #6366f1; /* indigo-500 */
  color: white;
}
.dark .btn-primary:hover { background-color: #4f46e5; }
.dark .btn-ghost { color: #cbd5e1; }
.dark .btn-ghost:hover { background-color: #1e293b; }

.input {
  width: 100%;
  border-radius: 0.75rem;
  border: 1px solid rgb(228 228 231); /* zinc-200 */
  background-color: white;
  padding: 0.5rem 0.75rem;
  font-size: 0.875rem;
  outline: none;
  transition-property: all;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 150ms;
}

.input:focus {
  border-color: rgb(161 161 170); /* zinc-400 */
}

.dark .input {
  background-color: #1e293b; /* slate-800 */
  border-color: #475569; /* slate-600 */
  color: #e2e8f0; /* slate-200 */
}
.dark .input:focus { border-color: #818cf8; /* indigo-400 */ }

.label {
  font-size: 0.75rem;
  font-weight: 500;
  color: rgb(63 63 70); /* zinc-700 */
}

.muted {
  font-size: 0.875rem;
  color: rgb(82 82 91); /* zinc-600 */
}

.dark .label { color: #94a3b8; /* slate-400 */ }
.dark .muted { color: #94a3b8; }

/* Base animations */
@keyframes floatDown {
  0% { transform: translateY(-80px) rotate(0deg); }
  100% { transform: translateY(110vh) rotate(360deg); }
}

@keyframes mascotBounce {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-6px); }
}

@keyframes fadeUp {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

/* Additional animations */
@keyframes fadeSlideIn {
  from { opacity: 0; transform: translateY(24px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes fadeSlideOut {
  from { opacity: 1; transform: translateY(0); }
  to { opacity: 0; transform: translateY(-24px); }
}

@keyframes scaleIn {
  from { opacity: 0; transform: scale(0.85); }
  to { opacity: 1; transform: scale(1); }
}

@keyframes popIn {
  0% { transform: scale(0); opacity: 0; }
  60% { transform: scale(1.15); }
  100% { transform: scale(1); opacity: 1; }
}

@keyframes confettiFall {
  0% { transform: translateY(-20px) rotate(0deg); opacity: 1; }
  100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
}

@keyframes wiggle {
  0%, 100% { transform: rotate(0deg); }
  25% { transform: rotate(-3deg); }
  75% { transform: rotate(3deg); }
}

@keyframes pulseGlow {
  0%, 100% { box-shadow: 0 4px 20px rgba(0,0,0,0.08); }
  50% { box-shadow: 0 4px 30px rgba(0,0,0,0.14); }
}

/* Animation utility classes */
.animate-fadeUp { animation: fadeUp 0.25s ease both; }
.animate-fadeSlideIn { animation: fadeSlideIn 0.3s ease forwards; }
.animate-fadeSlideOut { animation: fadeSlideOut 0.3s ease forwards; }
.animate-scaleIn { animation: scaleIn 0.5s ease forwards; }
.animate-popIn { animation: popIn 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) forwards; }
.animate-wiggle { animation: wiggle 2s ease-in-out infinite; }
.animate-pulseGlow { animation: pulseGlow 3s ease infinite; }

.floating-shape { animation: floatDown 14s linear infinite; }
.mascot-bounce { animation: mascotBounce 2s ease-in-out infinite; }
.confetti-fall { animation: confettiFall 2.2s linear forwards; }

/* Dashboard animations */
@keyframes wave {
  0%, 100% { transform: rotate(0deg); }
  10% { transform: rotate(14deg); }
  20% { transform: rotate(-8deg); }
  30% { transform: rotate(14deg); }
  40% { transform: rotate(-4deg); }
  50% { transform: rotate(10deg); }
  60% { transform: rotate(0deg); }
}

@keyframes subtleBounce {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-4px); }
}

@keyframes fireGlow {
  0%, 100% { filter: brightness(1); transform: scale(1); }
  50% { filter: brightness(1.3); transform: scale(1.15); }
}

@keyframes slideUp {
  from { opacity: 0; transform: translateY(16px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes goalComplete {
  0% { stroke-dashoffset: 251; }
  100% { stroke-dashoffset: 0; }
}

.animate-wave { animation: wave 2.5s ease-in-out infinite; transform-origin: 70% 70%; display: inline-block; }
.animate-subtleBounce { animation: subtleBounce 2s ease-in-out infinite; }
.animate-fireGlow { animation: fireGlow 1.5s ease-in-out infinite; }
.animate-slideUp { animation: slideUp 0.4s ease both; }
.dash-slide-up-1 { animation: slideUp 0.4s ease 0.05s both; }
.dash-slide-up-2 { animation: slideUp 0.4s ease 0.1s both; }
.dash-slide-up-3 { animation: slideUp 0.4s ease 0.15s both; }
.dash-slide-up-4 { animation: slideUp 0.4s ease 0.2s both; }
.dash-slide-up-5 { animation: slideUp 0.4s ease 0.25s both; }
.dash-slide-up-6 { animation: slideUp 0.4s ease 0.3s both; }
.dash-slide-up-7 { animation: slideUp 0.4s ease 0.35s both; }
.dash-slide-up-8 { animation: slideUp 0.4s ease 0.4s both; }

/* Badge & reward animations */
@keyframes badgeUnlock {
  0% { transform: scale(0); opacity: 0; }
  50% { transform: scale(1.3); }
  70% { transform: scale(0.9); }
  100% { transform: scale(1); opacity: 1; box-shadow: 0 0 20px rgba(99, 102, 241, 0.4); }
}

@keyframes streakPulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.1); filter: brightness(1.2); }
}

@keyframes xpCountUp {
  0% { transform: scale(0.5) translateY(20px); opacity: 0; }
  60% { transform: scale(1.2) translateY(-5px); }
  100% { transform: scale(1) translateY(0); opacity: 1; }
}

.animate-badgeUnlock { animation: badgeUnlock 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards; }
.animate-streakPulse { animation: streakPulse 1.5s ease-in-out infinite; }
.animate-xpCountUp { animation: xpCountUp 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards; }

/* Lesson page animations */
@keyframes cardSlideIn {
  from { opacity: 0; transform: translateX(60px); }
  to { opacity: 1; transform: translateX(0); }
}

@keyframes cardSlideOut {
  from { opacity: 1; transform: translateX(0); }
  to { opacity: 0; transform: translateX(-60px); }
}

@keyframes wrongShake {
  0%, 100% { transform: translateX(0); }
  15% { transform: translateX(-8px); }
  30% { transform: translateX(8px); }
  45% { transform: translateX(-6px); }
  60% { transform: translateX(6px); }
  75% { transform: translateX(-3px); }
  90% { transform: translateX(3px); }
}

@keyframes miniBurst {
  0% { transform: scale(0); opacity: 1; }
  50% { transform: scale(1.5); opacity: 0.6; }
  100% { transform: scale(2); opacity: 0; }
}

@keyframes gentleBounce {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-3px); }
}

@keyframes storyLineIn {
  from { opacity: 0; transform: translateY(8px); }
  to { opacity: 1; transform: translateY(0); }
}

.animate-cardSlideIn { animation: cardSlideIn 0.35s ease both; }
.animate-cardSlideOut { animation: cardSlideOut 0.25s ease both; }
.animate-wrongShake { animation: wrongShake 0.5s ease both; }
.animate-miniBurst { animation: miniBurst 0.4s ease-out forwards; }
.animate-gentleBounce { animation: gentleBounce 1.5s ease-in-out infinite; }
.animate-storyLineIn { animation: storyLineIn 0.4s ease both; }

/* Roadmap animations */
@keyframes roadmapPulse {
  0%, 100% {
    box-shadow: 0 0 0 0 rgba(99, 102, 241, 0.4), 0 4px 12px rgba(99, 102, 241, 0.2);
    transform: scale(1.1);
  }
  50% {
    box-shadow: 0 0 0 10px rgba(99, 102, 241, 0), 0 4px 16px rgba(99, 102, 241, 0.3);
    transform: scale(1.15);
  }
}

.roadmap-pulse { animation: roadmapPulse 2s ease-in-out infinite; }

@keyframes roadmapBreathe {
  0%, 100% {
    transform: scale(1);
    box-shadow: 0 4px 0 0 #4338ca, 0 0 0 0 rgba(99, 102, 241, 0.4), 0 8px 24px rgba(99, 102, 241, 0.3);
  }
  50% {
    transform: scale(1.08);
    box-shadow: 0 4px 0 0 #4338ca, 0 0 0 12px rgba(99, 102, 241, 0), 0 8px 28px rgba(99, 102, 241, 0.4);
  }
}

.roadmap-breathe { animation: roadmapBreathe 2.5s ease-in-out infinite; }

/* Nav shimmer for Upgrade CTA */
@keyframes navShine {
  0% { transform: translateX(-200%); }
  100% { transform: translateX(200%); }
}

.nav-shine::after {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(110deg, transparent 30%, rgba(255,255,255,0.25) 50%, transparent 70%);
  animation: navShine 3s ease-in-out infinite;
  pointer-events: none;
}
